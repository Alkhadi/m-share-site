<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Autism Support • M Share</title>
  <meta name="description"
    content="Autism support (UK): parent/adult/later-life guides, clinic checklists & references, and an in-app coach module you can import into M Share. A4, print-optimised PDFs with brand header/footer." />
  <link rel="canonical" href="https://www.mindpaylink.com/autism.html" />
  <meta property="og:title" content="Autism Support • M Share" />
  <meta property="og:description"
    content="Autism support (UK): parent/adult/later-life guides, clinic checklists & references, and an in-app coach module you can import into M Share." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.mindpaylink.com/autism.html" />
  <meta property="og:image" content="https://www.mindpaylink.com/icons/apple-touch-icon.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Autism Support • M Share" />
  <meta name="twitter:description" content="Autism support (UK) with guides, checklists, and an in-app coach module." />
  <meta name="twitter:image" content="https://www.mindpaylink.com/icons/apple-touch-icon.png" />
  <meta name="theme-color" content="#0f172a" />

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="assets/css/pages/autism.inline.css" />
  <link rel="stylesheet" href="assets/css/ux-fixes.css" />
  <link rel="stylesheet" href="assets/css/footer-2025.css" />
  <link rel="stylesheet" href="assets/css/header-2025.css" />
  <link rel="stylesheet" href="assets/css/nav-footer-uni.css" />
  <link rel="stylesheet" href="assets/css/responsive-fixes.css" />
  <link rel="stylesheet" href="assets/css/nav-unified.css">
  <link rel="stylesheet" href="assets/css/voice-coach-pro.css">
  <link rel="stylesheet" href="voice-coach-fix.css">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png" />
  <link rel="manifest" href="manifest.webmanifest" />

  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Autism Support",
    "url": "https://www.mindpaylink.com/autism.html"
  }</script>
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.mindpaylink.com/"},
      {"@type": "ListItem", "position": 2, "name": "Autism", "item": "https://www.mindpaylink.com/autism.html"}
    ]
  }</script>

  <!-- Readability and focus boost -->
  <style id="mshare-ux-boost-v1">
    :root {
      --s: 2%;
    }

    body {
      line-height: 1.6;
    }

    main.container {
      padding-bottom: var(--s);
    }

    .container .card {
      margin-bottom: var(--s);
    }

    :focus-visible {
      outline: 2px solid currentColor;
      outline-offset: 2px;
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: .01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: .01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>

<body>
  <a id="top" style="position:absolute;top:0;left:0;width:0;height:0;overflow:hidden"> </a>
  <header class="site-header">
    <div class="container navbar">
      <a id="brandLink" class="brand" data-href="index.html" href="index.html"><span class="logo">M</span><span
          class="brand-text">M Share</span></a>
      <nav class="main-nav" id="mainNav" role="navigation" aria-label="Primary">
        <a data-href="index.html">Wellbeing</a>
        <div class="menu-group">
          <button class="menu-toggle" aria-expanded="false">Conditions <span class="icon">▾</span></button>
          <div class="submenu">
            <div class="menu-label">Neurodevelopmental</div>
            <a data-href="autism.html">Autism</a>
            <a data-href="adhd.html">ADHD</a>
            <a data-href="dyslexia-reading-training.html">Dyslexia</a>
            <div class="menu-label">Mental Health</div>
            <a data-href="anxiety.html">Anxiety</a>
            <a data-href="depression.html">Depression</a>
            <a data-href="stress.html">Stress</a>
            <a data-href="sleep.html">Sleep</a>
          </div>
        </div>
        <div class="menu-group">
          <button class="menu-toggle" aria-expanded="false">Breathing &amp; Focus <span class="icon">▾</span></button>
          <div class="submenu">
            <div class="menu-label">Guides</div>
            <a data-href="breath.html">Breath (how‑to)</a>
            <a data-href="focus.html">Focus</a>
            <a data-href="mindfulness.html">Mindfulness</a>
            <div class="menu-label">Techniques</div>
            <a data-href="sos-60.html">60‑second Reset</a>
            <a data-href="box-breathing.html">Box Breathing</a>
            <a data-href="4-7-8-breathing.html">4‑7‑8 Breathing</a>
            <a data-href="coherent-5-5.html">Coherent 5‑5</a>
          </div>
        </div>
        <div class="menu-group">
          <button class="menu-toggle" aria-expanded="false">Toolkits <span class="icon">▾</span></button>
          <div class="submenu">
            <div class="menu-label">General</div>
            <a data-href="sleep-tools.html">Sleep Tools</a>
            <a data-href="breath-tools.html">Breath Tools</a>
            <a data-href="mood-tools.html">Mood Tools</a>
            <div class="menu-label">Condition‑specific</div>
            <a data-href="adhd-tools.html">ADHD Tools</a>
            <a data-href="autism-tools.html">Autism Tools</a>
            <a data-href="depression-tools.html">Depression Tools</a>
            <a data-href="anxiety-tools.html">Anxiety Tools</a>
            <a data-href="stress-tools.html">Stress Tools</a>
          </div>
        </div>
        <div class="menu-group">
          <button class="menu-toggle" aria-expanded="false">About <span class="icon">▾</span></button>
          <div class="submenu">
            <a data-href="about.html">About</a>
            <a data-href="coffee.html">Support Us</a>
            <a data-href="contact.html">Contact</a>
          </div>
        </div>
      </nav>
      <button type="button" id="navToggle" class="nav-toggle" aria-label="Menu" aria-expanded="false"
        aria-controls="mainNav">☰</button>
    </div>
  </header>




  <main class="container" id="howto" role="main">
    <!-- HERO -->
    <section class="hero card">
      <h1>Autism Support (UK)</h1>
      <p class="muted">Everything in one place: <b>Parent</b>, <b>Adult</b> & <b>Later‑life</b> guides, a <b>Clinic
          guide</b> with checklists & references, plus an <b>in‑app coach module</b> you can import into M Share. A4
        PDFs are print‑optimised with brand header/footer.</p>
      <div class="row-actions" style="margin-top:8px">
        <button id="btnPdfParent" class="btn btn-success" type="button">⬇ Parent quick guide (PDF)</button>
        <button id="btnPdfAdult" class="btn" type="button">⬇ Adult support (PDF)</button>
        <button id="btnPdfLater" class="btn" type="button">⬇ Later life &amp; carer (PDF)</button>
        <button id="btnPdfClinic" class="btn" type="button">⬇ Clinic guide (PDF)</button>
        <button id="btnZipAll" class="btn" type="button">⬇ All PDFs (ZIP)</button>
        <button id="btnDownloadJson" class="btn" type="button">⬇ Coach module (JSON)</button>
        <a class="btn" href="#use">How to use</a>
      </div>
      <script>
        // Wire static downloads to local assets (GitHub Pages served)
        (function () {
          function dl(path, name) {
            try {
              const a = document.createElement('a');
              a.href = path; if (name) a.download = name; document.body.appendChild(a); a.click(); a.remove();
            } catch { }
          }
          const map = {
            btnPdfParent: 'assets/pdfs/Autism — Parent Quick Guide (UK).pdf',
            btnPdfAdult: 'assets/pdfs/Autism — Adult Support Guide (UK).pdf',
            btnPdfLater: 'assets/pdfs/Autism — Later Life & Carer Guide (UK).pdf',
            btnPdfClinic: 'assets/pdfs/Autism — Clinic Guide & Checklists (UK).pdf',
            btnZipAll: 'assets/pdfs/mshare_pdfs_2025-10-01.zip'
          };
          Object.keys(map).forEach(id => { const b = document.getElementById(id); if (b) b.addEventListener('click', () => dl(map[id])); });
          const j = document.getElementById('btnDownloadJson');
          if (j) j.addEventListener('click', () => dl('assets/autism_coach_module.json', 'autism_coach_module.json'));
        })();
      </script>
    </section>

    <!-- SCHOOL CLASSROOM STRATEGIES (Primary & Secondary) -->
    <section class="card" id="classroomStrategies">
      <h2>Classroom strategies: Primary &amp; Secondary (Top 10)</h2>
      <p class="muted">Evidence‑informed practices teachers and teaching assistants use in schools. Each item is
        paraphrased and referenced to UK and international guidance.</p>

      <div class="downloads-row">
        <strong>Downloads:</strong>
        <a class="btn"
          href="https://d2tic4wvo1iusb.cloudfront.net/production/eef-guidance-reports/send/eef_special_educational_needs_in_mainstream_schools_guidance_report_2025-04-10-110432_klxp.pdf"
          rel="noopener" target="_blank">⬇ EEF: SEND in mainstream (PDF)</a>
        <a class="btn"
          href="https://d2tic4wvo1iusb.cloudfront.net/production/eef-guidance-reports/teaching-assistants/deployment_of_teaching_assistants_-_guidance_report_v1.1.0.pdf"
          rel="noopener" target="_blank">⬇ EEF: Teaching Assistants (PDF)</a>
        <a class="btn"
          href="https://www.nice.org.uk/guidance/cg170/resources/autism-spectrum-disorder-in-under-19s-support-and-management-pdf-35109745515205"
          rel="noopener" target="_blank">⬇ NICE CG170 (PDF)</a>
        <a class="btn" href="https://udlguidelines.cast.org/" rel="noopener" target="_blank">UDL Guidelines</a>
        <a class="btn" href="https://pecs-unitedkingdom.com/pecs/" rel="noopener" target="_blank">PECS (overview)</a>
        <a class="btn" href="https://carolgraysocialstories.com/social-stories/what-is-a-social-story/" rel="noopener"
          target="_blank">Social Stories (overview)</a>
      </div>

      <h3 style="margin-top:10px">Top 10 techniques used in schools</h3>
      <div class="tips-grid">
        <div class="tile tip"><b>UDL lesson design</b> — Plan multiple ways to engage, present information, and let
          pupils show learning, so barriers are removed at the design stage [1][4].</div>
        <div class="tile tip"><b>Explicit instruction in small steps</b> — Model, check understanding, guided practice,
          then independent work with clear success criteria and worked examples [1].</div>
        <div class="tile tip"><b>Visual timetables and signalling change</b> — Use daily schedules, “first–then”, visual
          countdowns, and rehearsal to reduce uncertainty and support transitions [1][3][6].</div>
        <div class="tile tip"><b>Structured independent work systems</b> — Clarify what to do, how much to do, what to
          do next, and where finished work goes; build predictability and independence [1][3].</div>
        <div class="tile tip"><b>Pre‑teaching and overlearning</b> — Introduce key vocabulary and concepts before
          lessons; revisit little‑and‑often with retrieval practice to strengthen memory [1].</div>
        <div class="tile tip"><b>TA scaffolding with prompt‑fading</b> — TAs use a scaffold ladder (model → clue →
          prompt → pause) and fade support to grow independence, with teacher retaining responsibility [2].</div>
        <div class="tile tip"><b>Communication partner strategies</b> — Provide AAC/PECS access across the day; use
          motivating exchanges, expectant pause, and natural reinforcement to encourage initiation [3][5].</div>
        <div class="tile tip"><b>Social narratives and role‑play</b> — Write short stories that explain social
          expectations and practise with scripts or role‑play before real‑world events [6].</div>
        <div class="tile tip"><b>Sensory and regulation supports</b> — Agree brief movement breaks, quiet spaces, and
          low‑arousal adaptations (light/noise/seating), personalised to the pupil [1][3].</div>
        <div class="tile tip"><b>Peer‑supported learning with clear roles</b> — Use structured pair/group tasks with
          defined roles and visuals so participation is predictable and supportive [1].</div>
      </div>

      <div class="tile" style="margin-top:10px">
        <h3 style="margin:.2rem 0">References</h3>
        <ol class="muted" style="margin:6px 0 0 18px">
          <li>[1] Education Endowment Foundation (2025). Special Educational Needs in Mainstream Schools. Guidance
            report. URL: educationendowmentfoundation.org.uk</li>
          <li>[2] Education Endowment Foundation (2025). Deployment of Teaching Assistants. Guidance report. URL:
            educationendowmentfoundation.org.uk</li>
          <li>[3] NICE CG170 (last reviewed 2025). Autism spectrum disorder in under 19s: support and management. URL:
            nice.org.uk/guidance/cg170</li>
          <li>[4] CAST (2025). Universal Design for Learning Guidelines. URL: udlguidelines.cast.org</li>
          <li>[5] PECS UK (accessed 2025). What is PECS? URL: pecs-unitedkingdom.com/pecs/</li>
          <li>[6] Carol Gray (2025). What is a Social Story? URL: carolgraysocialstories.com</li>
        </ol>
      </div>
      <div class="row-actions" style="margin-top:10px"><a class="btn" href="#top">Back to top 9</a></div>
    </section>

    <!-- HOW TO USE -->
    <section id="use" class="card">
      <h2>How to use each deliverable in M Share</h2>
      <div class="cols-3">
        <div class="tile">
          <h3>Parent / Adult / Later‑life PDFs</h3>
          <ul>
            <li>Link as “<b>Download (PDF)</b>” on your Autism landing page.</li>
            <li>Add to onboarding emails and your <em>Share</em> sheet.</li>
          </ul>
        </div>
        <div class="tile">
          <h3>Clinic Guide (PDF)</h3>
          <ul>
            <li>Place under “<b>For Clinicians</b>” or an “Advanced” toggle.</li>
            <li>Use to standardise school/clinic conversations.</li>
          </ul>
        </div>
        <div class="tile">
          <h3>In‑App Module JSON</h3>
          <ul>
            <li>Import and render as a coach that adapts to selected goals.</li>
            <li>Log metrics locally (or secure cloud) for progress graphs.</li>
          </ul>
        </div>
      </div>
      <h4 style="margin-top:8px">What you have now</h4>
      <p class="muted">
        ✅ Four Autism PDFs (Parent, Adult, Later‑life, Clinic) · ✅ Three Dyslexia PDFs (Adult, Parent, Practice Pack) ·
        ✅ In‑app module (JSON).
      </p>
    </section>

    <!-- EVIDENCE SNAPSHOT -->
    <section class="card" id="evidenceSnapshot">
      <h2>Evidence snapshot (UK)</h2>
      <p><b>Children/young people:</b> structured, communication‑focused interventions, environmental adaptations and
        co‑occurring problem management; consider melatonin via specialists if behavioural sleep approaches fail.
        Sources: NICE CG170 (support & management). <em>Educational only; not medical advice.</em></p>
      <p><b>Adults:</b> adapted CBT for anxiety/depression, structured support plans, and workplace/healthcare
        reasonable adjustments. Sources: NICE autism guidance (adults). <em>Educational only.</em></p>

      <div class="downloads-row" style="margin-top:6px">
        <strong>Downloads:</strong>
        <a class="btn" href="https://www.nice.org.uk/guidance/cg170" target="_blank" rel="noopener">NICE CG170</a>
        <a class="btn"
          href="https://educationendowmentfoundation.org.uk/education-evidence/guidance-reports/metacognition"
          target="_blank" rel="noopener">EEF: Metacognition</a>
        <a class="btn" href="https://afirm.fpg.unc.edu" target="_blank" rel="noopener">AFIRM: EBP modules</a>
        <a class="btn" href="https://www.gov.uk/government/publications/send-code-of-practice-0-to-25" target="_blank"
          rel="noopener">DfE SEND Code of Practice</a>
        <a class="btn" href="https://www.autismeducationtrust.org.uk/schools-programme/" target="_blank"
          rel="noopener">AET Schools Programme</a>
        <a class="btn btn-success" data-href="teacher-quick-pack.html" href="teacher-quick-pack.html">Teacher Quick Pack
          →</a>
      </div>

      <h3 style="margin-top:10px">Additional school‑based techniques (Top 10)</h3>
      <div class="tips-grid">
        <div class="tile tip"><b><a href="assets/handouts/video-modelling.html" target="_blank" rel="noopener">Video
              modelling &amp; prompting</a></b> — Short videos show the steps/language; imitate with pauses at key
          points [1].</div>
        <div class="tile tip"><b><a href="assets/handouts/self-management-checklists.html" target="_blank"
              rel="noopener">Self‑management checklists</a></b> — Pupil ticks “done” steps and reflects to build
          independence [2].</div>
        <div class="tile tip"><b><a href="assets/handouts/fct-functional-communication.html" target="_blank"
              rel="noopener">Functional Communication Training (FCT)</a></b> — Teach a simple acceptable request that
          meets the same need [3][4].</div>
        <div class="tile tip"><b><a href="assets/handouts/task-analysis-chaining.html" target="_blank"
              rel="noopener">Task analysis with chaining</a></b> — Break into tiny links; teach forward/backward [5].
        </div>
        <div class="tile tip"><b><a href="assets/handouts/high-probability-requests.html" target="_blank"
              rel="noopener">High‑probability request sequence</a></b> — 2–3 easy wins, then the target [6].</div>
        <div class="tile tip"><b><a href="assets/handouts/time-delay-prompting.html" target="_blank"
              rel="noopener">Time‑delay prompting</a></b> — Cue → brief wait → prompt if needed; lengthen delay [7].
        </div>
        <div class="tile tip"><b><a href="assets/handouts/choice-making.html" target="_blank"
              rel="noopener">Choice‑making interventions</a></b> — Offer structured choices to boost engagement [8].
        </div>
        <div class="tile tip"><b><a href="assets/handouts/video-self-model.html" target="_blank"
              rel="noopener">Video‑based self‑model</a></b> — Record success and replay to boost recall [1].</div>
        <div class="tile tip"><b><a href="assets/handouts/emotion-check-in.html" target="_blank" rel="noopener">Emotion
              check‑in with scales</a></b> — Quick rating + pre‑agreed tool; link to goals [2][9].</div>
        <div class="tile tip"><b><a href="assets/handouts/one-page-profile.html" target="_blank" rel="noopener">One‑page
              profiles &amp; passports</a></b> — Share strengths/adjustments for consistency [10][11].</div>
      </div>

      <div class="tile" style="margin-top:10px">
        <h3 style="margin:.2rem 0">References</h3>
        <ol class="muted" style="margin:6px 0 0 18px">
          <li>[1] AFIRM (Frank Porter Graham Institute). Evidence‑Based Practice modules — Video Modeling/Prompting.
            URL: afirm.fpg.unc.edu</li>
          <li>[2] Education Endowment Foundation. Metacognition & Self‑Regulated Learning — classroom routines and
            self‑monitoring. URL: educationendowmentfoundation.org.uk</li>
          <li>[3] NICE CG170 (under‑19s) — behavioural/communication‑focused approaches; support and management. URL:
            nice.org.uk/guidance/cg170</li>
          <li>[4] AFIRM. Functional Communication Training (FCT) module. URL: afirm.fpg.unc.edu</li>
          <li>[5] AFIRM. Task Analysis & Chaining modules. URL: afirm.fpg.unc.edu</li>
          <li>[6] AFIRM. High‑Probability Requests (behavioural momentum). URL: afirm.fpg.unc.edu</li>
          <li>[7] AFIRM. Time‑Delay prompting. URL: afirm.fpg.unc.edu</li>
          <li>[8] AFIRM. Choice‑Making interventions. URL: afirm.fpg.unc.edu</li>
          <li>[9] The Zones of Regulation (official). Classroom tools for self‑regulation. URL: zonesofregulation.com
          </li>
          <li>[10] Department for Education (UK). SEND Code of Practice: 0 to 25 years. URL:
            gov.uk/government/publications/send-code-of-practice-0-to-25</li>
          <li>[11] Council for Disabled Children. One‑page profiles/passports (resources). URL:
            councilfordisabledchildren.org.uk</li>
        </ol>
      </div>
    </section>

    <!-- PRACTICAL SECTIONS -->
    <section class="card">
      <h2>Children &amp; Adolescents</h2>
      <ul>
        <li><b>Naturalistic, caregiver‑mediated coaching (NDBI style):</b> 3–5 min play bursts, copy/expand/celebrate,
          many times daily.</li>
        <li><b>AAC is speech‑friendly:</b> pictures/PECS/core boards/apps reduce frustration; keep AAC available
          everywhere.</li>
        <li><b>Visual &amp; structured teaching:</b> First/Then, visual schedules, clear work systems; teach in small
          steps.</li>
        <li><b>Behaviour → ABC:</b> track antecedent–behaviour–consequence; teach an easier way to ask; reinforce
          quickly.</li>
        <li><b>Sleep:</b> regularity, routine, light/noise/temperature; discuss melatonin only with a clinician if
          insomnia persists.</li>
      </ul>
      <div class="downloads-row">
        <strong>Downloads:</strong>
        <a class="btn" href="assets/pdfs/Autism — Parent Quick Guide (UK).pdf" download>⬇ Parent Guide (PDF)</a>
        <a class="btn" href="assets/pdfs/Autism — Clinic Guide & Checklists (UK).pdf" download>⬇ Clinic Guide (PDF)</a>
        <a class="btn" data-href="autism-tools.html" href="autism-tools.html">Autism Tools →</a>
        <a class="btn btn-success" data-href="box-breathing.html?len=120" href="box-breathing.html?len=120"
          rel="noopener">🟩 Box Breathing — 2 min</a>
      </div>
      <h3 style="margin-top:12px">Training tips</h3>
      <div class="tips-grid">
        <div class="tile tip">👀 Follow their lead; join in and label actions.</div>
        <div class="tile tip">🧱 Break skills into tiny steps with clear visuals.</div>
        <div class="tile tip">🔁 Many brief practices daily beat one long session.</div>
        <div class="tile tip">🗣️ Copy then expand 1–2 words; keep language concrete.</div>
        <div class="tile tip">🖼️ Keep AAC/pictures within reach across settings.</div>
        <div class="tile tip">🧩 Offer choices to prompt communication (A/B).</div>
        <div class="tile tip">⏱️ Use pauses (5–10 s) to invite turns.</div>
        <div class="tile tip">🎉 Reinforce attempts immediately (speech/sign/AAC).</div>
        <div class="tile tip">📓 Track 1–2 goals; celebrate small wins weekly.</div>
        <div class="tile tip">😌 Plan sensory breaks; reduce noise/clutter.</div>
      </div>
    </section>

    <!-- INTERACTIVE: Communication games mini-coach -->
    <section class="card" id="commMini">
      <h2>Communication games (3‑minute mini‑coach)</h2>
      <p class="muted">Pick today’s targets and run a short, high‑engagement burst. Evidence base:
        NDBI/caregiver‑mediated coaching emphasises frequent, brief practice aligned with the child’s interests.</p>
      <div class="cols-2">
        <div class="tile">
          <label><b>Targets</b></label>
          <ul id="commTargets">
            <li><label><input type="checkbox" value="Request (more/help)"> Request (more/help)</label></li>
            <li><label><input type="checkbox" value="Choice (A/B)"> Choice (A/B)</label></li>
            <li><label><input type="checkbox" value="Comment (look/uh‑oh)"> Comment (look/uh‑oh)</label></li>
            <li><label><input type="checkbox" value="Social game (again!)"> Social game (again!)</label></li>
          </ul>
        </div>
        <div class="tile">
          <label><b>Timer</b></label>
          <div style="font:600 1.25rem/1 system-ui" id="commTimer">3:00</div>
          <div class="row-actions" style="margin-top:6px">
            <button type="button" class="btn" id="commStart">Start</button>
            <button type="button" class="btn" id="commStop" disabled>Stop</button>
          </div>
          <div class="muted" id="commHint">Tip: follow the child’s lead, copy/expand, celebrate attempts
            (speech/sign/AAC).</div>
        </div>
      </div>
      <div class="row-actions" style="margin-top:6px">
        <button type="button" class="btn" id="commSave">Save today’s picks</button>
        <button type="button" class="btn" id="commCopy">Copy summary</button>
      </div>
      <script>
        (function () {
          const LS = 'mshare_comm_mini_v1';
          const tEl = document.getElementById('commTimer');
          const bS = document.getElementById('commStart');
          const bP = document.getElementById('commStop');
          const list = document.getElementById('commTargets');
          const bSave = document.getElementById('commSave');
          const bCopy = document.getElementById('commCopy');
          let to = null, rem = 180;
          function fmt(s) { s = Math.max(0, s | 0); const m = (s / 60) | 0; const r = s % 60; return m + ':' + String(r).padStart(2, '0'); }
          function setT(v) { tEl.textContent = fmt(v); }
          function start() { if (to) return; rem = 180; setT(rem); beep(640, 0.12); to = setInterval(() => { setT(rem); if (rem <= 0) { clearInterval(to); to = null; bS.disabled = false; bP.disabled = true; try { beep(520, 0.15); } catch { } return; } rem--; }, 1000); bS.disabled = true; bP.disabled = false; }
          function stop() { if (!to) return; clearInterval(to); to = null; bS.disabled = false; bP.disabled = true; try { beep(360, 0.15); } catch { } }
          function selected() { return Array.from(list.querySelectorAll('input[type="checkbox"]:checked')).map(i => i.value); }
          function save() { const rec = { date: (new Date()).toISOString().slice(0, 10), targets: selected() }; try { const arr = JSON.parse(localStorage.getItem(LS) || '[]'); arr.push(rec); localStorage.setItem(LS, JSON.stringify(arr.slice(-50))); } catch { } }
          function copy() { const txt = `Comm mini — ${new Date().toLocaleDateString()}\nTargets: ${selected().join(', ') || '—'}`; navigator.clipboard?.writeText(txt).then(() => { try { window.__MSHARE__?.toast && window.__MSHARE__.toast('Summary copied'); } catch { } }); }
          // tiny local beep (unlocked on first click automatically by browsers)
          let __AC = null; function ac() { try { if (!__AC) { const C = window.AudioContext || window.webkitAudioContext; if (C) __AC = new C(); } if (__AC && __AC.state === 'suspended') __AC.resume(); } catch { } return __AC; }
          function beep(f, d) { const a = ac(); if (!a) return; const o = a.createOscillator(), g = a.createGain(); o.type = 'triangle'; o.frequency.value = f; g.gain.value = 0; o.connect(g); g.connect(a.destination); const t = a.currentTime; g.gain.setValueAtTime(0, t); g.gain.linearRampToValueAtTime(.18, t + .01); g.gain.exponentialRampToValueAtTime(.0001, t + d); o.start(t); o.stop(t + d + .02); }
          bS.addEventListener('click', start);
          bP.addEventListener('click', stop);
          bSave.addEventListener('click', save);
          bCopy.addEventListener('click', copy);
        })();
      </script>
      <!-- Downloads for this section -->
      <div class="downloads-row">
        <strong>Downloads:</strong>
        <a class="btn" href="assets/pdfs/Autism — Parent Quick Guide (UK).pdf" download>⬇ Parent Guide (PDF)</a>
        <a class="btn" href="assets/pdfs/Autism — Clinic Guide & Checklists (UK).pdf" download>⬇ Clinic Guide (PDF)</a>
        <a class="btn" data-href="autism-tools.html" href="autism-tools.html">More resources →</a>
      </div>

      <!-- Training tips grid (10 items) -->
      <h3 style="margin-top:12px">Training tips</h3>
      <div class="tips-grid">
        <div class="tile tip">🎯 Follow their lead; join the play they choose.</div>
        <div class="tile tip">🗣️ Copy then expand (child: “ball” → adult: “red ball”).</div>
        <div class="tile tip">⏱️ Use 5–10 s pauses to invite turns.</div>
        <div class="tile tip">🤝 Build turn‑taking with simple social games (again!).</div>
        <div class="tile tip">🧩 Offer choices (A/B) to prompt communication.</div>
        <div class="tile tip">💬 Keep phrases short (1–3 words) and concrete.</div>
        <div class="tile tip">🧑‍🦽 Keep AAC/picture board always available; model taps/words.</div>
        <div class="tile tip">🎉 Celebrate any attempt (speech/sign/AAC) immediately.</div>
        <div class="tile tip">📦 Embed targets in daily routines (snack, dressing, play).</div>
        <div class="tile tip">🕒 Many brief bursts (3–5 min) beat long sessions.</div>
      </div>
    </section>

    <!-- INTERACTIVE: ABC quick tracker -->
    <section class="card" id="abcQuick">
      <h2>ABC quick tracker</h2>
      <p class="muted">Brief ABC entries help spot patterns and choose replacement skills. Evidence base: functional
        behaviour assessment (antecedent–behaviour–consequence) guides reinforcement and environmental supports.</p>
      <div class="cols-3">
        <div class="tile"><label>Antecedent</label><textarea id="abcA" rows="2"
            placeholder="What happened right before?"></textarea></div>
        <div class="tile"><label>Behaviour</label><textarea id="abcB" rows="2"
            placeholder="What was observed?"></textarea></div>
        <div class="tile"><label>Consequence</label><textarea id="abcC" rows="2"
            placeholder="What followed?"></textarea></div>
      </div>
      <div class="row-actions" style="margin-top:6px">
        <button type="button" class="btn" id="abcSave">Save entry</button>
        <button type="button" class="btn" id="abcCopy">Copy latest</button>
      </div>
      <script>
        (function () {
          const LS = 'mshare_abc_quick_v1'; const A = abcA, B = abcB, C = abcC;
          function save() { const rec = { date: new Date().toISOString(), A: A.value.trim(), B: B.value.trim(), C: C.value.trim() }; try { const arr = JSON.parse(localStorage.getItem(LS) || '[]'); arr.push(rec); localStorage.setItem(LS, JSON.stringify(arr.slice(-100))); } catch { } }
          function copy() { try { const arr = JSON.parse(localStorage.getItem(LS) || '[]'); const last = arr[arr.length - 1]; if (!last) { alert('No entries yet'); return; } const txt = `ABC ${new Date(last.date).toLocaleString()}\nA: ${last.A}\nB: ${last.B}\nC: ${last.C}`; navigator.clipboard.writeText(txt); } catch { } }
          abcSave.addEventListener('click', save);
          abcCopy.addEventListener('click', copy);
        })();
      </script>
      <!-- Downloads for this section -->
      <div class="downloads-row">
        <strong>Downloads:</strong>
        <a class="btn" href="assets/pdfs/Autism — Clinic Guide & Checklists (UK).pdf" download>⬇ ABC/Clinic Guide
          (PDF)</a>
        <a class="btn" href="assets/pdfs/Autism — Parent Quick Guide (UK).pdf" download>⬇ Parent Guide (PDF)</a>
        <a class="btn" data-href="autism-tools.html" href="autism-tools.html">More resources →</a>
      </div>

      <!-- Training tips grid (10 items) -->
      <h3 style="margin-top:12px">Training tips</h3>
      <div class="tips-grid">
        <div class="tile tip">🧠 Define one behaviour clearly (observable words).</div>
        <div class="tile tip">🔍 Note triggers (time, demand, sensory, transitions).</div>
        <div class="tile tip">🎯 Clarify the function (get/escape/sensory/attention).</div>
        <div class="tile tip">🔁 Teach a simpler replacement (picture/word/sign).</div>
        <div class="tile tip">⏩ Reinforce calm/asking quickly and consistently.</div>
        <div class="tile tip">🧺 Adjust environment (noise, clutter, unclear steps).</div>
        <div class="tile tip">📓 Keep ABC notes short and specific; patterns emerge.</div>
        <div class="tile tip">👥 Share the plan with carers/school for consistency.</div>
        <div class="tile tip">🗓️ Review weekly; one small tweak at a time.</div>
        <div class="tile tip">❤️ Safety first; reduce risky triggers promptly.</div>
      </div>
    </section>

    <!-- INTERACTIVE: Sleep routine builder -->
    <section class="card" id="sleepBuilder">
      <h2>Sleep routine builder</h2>
      <p class="muted">Consistent wind‑down routines reduce sleep latency for many families. Evidence: behavioural sleep
        interventions with regular schedule, low light, and calming pre‑sleep steps.</p>
      <div class="cols-2">
        <div class="tile">
          <label><b>Pick 3–4 calming steps</b></label>
          <ul id="sleepSteps">
            <li><label><input type="checkbox" value="Bath"> Bath</label></li>
            <li><label><input type="checkbox" value="Book"> Book</label></li>
            <li><label><input type="checkbox" value="Music"> Music</label></li>
            <li><label><input type="checkbox" value="Stretching"> Stretching</label></li>
            <li><label><input type="checkbox" value="Breathing"> Breathing</label></li>
          </ul>
        </div>
        <div class="tile">
          <label><b>Latency last night (min)</b></label>
          <input id="sleepLatency" type="number" min="0" step="1" placeholder="e.g. 25" />
        </div>
      </div>
      <div class="row-actions" style="margin-top:6px">
        <button type="button" class="btn" id="sleepSave">Save routine</button>
        <button type="button" class="btn" id="sleepCopy">Copy summary</button>
      </div>
      <script>
        (function () {
          const LS = 'mshare_sleep_builder_v1'; const list = document.getElementById('sleepSteps'); const lat = document.getElementById('sleepLatency');
          function picks() { return Array.from(list.querySelectorAll('input[type="checkbox"]:checked')).map(i => i.value); }
          function save() { const rec = { date: new Date().toISOString().slice(0, 10), steps: picks(), latency: (parseInt(lat.value || '0', 10) || 0) }; try { const arr = JSON.parse(localStorage.getItem(LS) || '[]'); arr.push(rec); localStorage.setItem(LS, JSON.stringify(arr.slice(-60))); } catch { } }
          function copy() { const txt = `Sleep plan — ${new Date().toLocaleDateString()}\nSteps: ${picks().join(', ') || '—'}\nLatency: ${lat.value || '—'} min`; navigator.clipboard?.writeText(txt); }
          sleepSave.addEventListener('click', save);
          sleepCopy.addEventListener('click', copy);
        })();
      </script>
      <!-- Downloads for this section -->
      <div class="downloads-row">
        <strong>Downloads:</strong>
        <a class="btn" data-href="sleep-tools.html" href="sleep-tools.html">Sleep Tools →</a>
        <a class="btn" href="assets/pdfs/Autism — Parent Quick Guide (UK).pdf" download>⬇ Parent Guide (PDF)</a>
        <a class="btn" href="assets/pdfs/Autism — Later Life & Carer Guide (UK).pdf" download>⬇ Later‑life Guide
          (PDF)</a>
      </div>

      <!-- Training tips grid (10 items) -->
      <h3 style="margin-top:12px">Training tips</h3>
      <div class="tips-grid">
        <div class="tile tip">🕰️ Fixed sleep/wake times (±30 min) daily.</div>
        <div class="tile tip">🛁 Short, calm routine (bath, book, music, breathing).</div>
        <div class="tile tip">🌙 Low light; warm not bright; night light if preferred.</div>
        <div class="tile tip">📵 Screens off ≥1 hour before bed.</div>
        <div class="tile tip">😌 Reduce noise/clutter; cool, comfy bedding.</div>
        <div class="tile tip">🧘 Calm activities only in last 30 min.</div>
        <div class="tile tip">📈 Track sleep latency; aim for gradual improvements.</div>
        <div class="tile tip">🔄 Shift schedule slowly (15 min steps) if needed.</div>
        <div class="tile tip">🥤 Watch caffeine/sugar; earlier exercise is best.</div>
        <div class="tile tip">👩‍⚕️ If difficulties persist, discuss with clinician.</div>
      </div>
    </section>

    <section class="card">
      <h2>Adults</h2>
      <ul>
        <li><b>Employment:</b> reasonable adjustments (Equality Act), clear written instructions, low‑sensory spaces,
          flexible hours/hybrid.</li>
        <li><b>Access to Work:</b> workplace assessment, job coach, assistive tech, travel support.</li>
        <li><b>Mental health:</b> adapted CBT (visual structure, concrete goals, graded exposure with sensory planning);
          monitor medication with clinicians.</li>
        <li><b>Regulation:</b> micro‑breaks, noise management, meltdown/shutdown plans.</li>
      </ul>
    </section>

    <section class="card">
      <h2>Later Life</h2>
      <ul>
        <li>Anticipate sensory/hearing/vision changes; schedule quieter appointments.</li>
        <li>Use pill organisers, checklists, and carer prompts; prepare hospital passports.</li>
        <li>Ask the local authority about adult social care and carers’ assessments.</li>
      </ul>
    </section>

    <section class="card">
      <h2>Neurodevelopmental: ADHD (quick pointers)</h2>
      <ul>
        <li>Core features: inattention, impulsivity, hyperactivity across settings.</li>
        <li>Supports: behavioural strategies, executive‑function scaffolds, environmental cues; review sleep, anxiety.
        </li>
      </ul>
    </section>

    <section class="card">
      <h2>Mental Health: Anxiety • Depression • Stress • Sleep</h2>
      <ul>
        <li><b>CBT (adapted):</b> visual agendas, concrete skills practice, stepwise exposure with sensory planning.
        </li>
        <li><b>Sleep:</b> consistent timing, low light, screens off ≥1h; record latency; escalate to clinician if
          persistent.</li>
      </ul>
    </section>

    <section class="card">
      <h2>Breathing &amp; Focus (2‑minute reset)</h2>
      <ol>
        <li>Sit comfortably; relax shoulders and jaw.</li>
        <li>Inhale quietly through the nose ~4 s; exhale ~6 s.</li>
        <li>Repeat 10 cycles; notice shoulders lowering and heart rate easing.</li>
      </ol>
      <p class="muted">Use before transitions, meetings or bedtime wind‑down.</p>
      <div class="downloads-row">
        <strong>Try:</strong>
        <a class="btn btn-success" data-href="box-breathing.html" href="box-breathing.html" rel="noopener">🟩 Box
          Breathing</a>
        <a class="btn" data-href="sos-60.html" href="sos-60.html" rel="noopener">⚡ 60‑second Reset</a>
        <a class="btn" data-href="4-7-8-breathing.html" href="4-7-8-breathing.html" rel="noopener">4‑7‑8 Breathing</a>
        <a class="btn" data-href="coherent-5-5.html" href="coherent-5-5.html" rel="noopener">Coherent 5‑5</a>
        <a class="btn" data-href="breath.html" href="breath.html">Breath (how‑to)</a>
      </div>
      <h3 style="margin-top:12px">Tips</h3>
      <div class="tips-grid">
        <div class="tile tip">🪑 Posture: sit tall, shoulders loose, jaw relaxed.</div>
        <div class="tile tip">👃 Inhale through the nose; soft, quiet breath.</div>
        <div class="tile tip">🫁 Exhale slightly longer than inhale (4–6 sec).</div>
        <div class="tile tip">🐢 Slow pace; smooth transitions between phases.</div>
        <div class="tile tip">👂 Let breath guide attention; notice the body calming.</div>
        <div class="tile tip">🧘 Practice daily to build the reflex for stress.</div>
        <div class="tile tip">⚠️ Stop if dizzy or uncomfortable; resume gently.</div>
        <div class="tile tip">⏰ Use short bursts (1–3 min) before transitions.</div>
      </div>
    </section>

    <!-- In‑app coach -->
    <section class="card">
      <h2>In‑App Coach Module (JSON)</h2>
      <p class="muted">Download and import. The preview below lets you inspect flows and steps.</p>
      <div class="row-actions">
        <button id="btnPreviewFlows" class="btn" type="button">Preview flows</button>
        <button id="btnClearPreview" class="btn" type="button">Clear</button>
      </div>
      <div id="flowViewer" class="card">
        <div class="cols-2">
          <div class="tile">
            <label for="flowPick">Select a flow</label>
            <select id="flowPick" title="Select option"></select>
          </div>
        </div>
        <div class="tile" style="margin-top:8px">
          <h4 id="flowTitle" style="margin:.2rem 0">Flow</h4>
          <div id="flowSteps" class="muted"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer-2025" id="footer2025">
    <div class="wrap">
      <div class="grid">
        <section class="col brand">
          <div class="brandline"><span class="logo">M</span>
            <div><b>M Share</b>
              <div class="muted">Quiet, practical tools for mental health and wellbeing.</div>
            </div>
          </div>
          <div class="theme-controls">
            <label>Background<input id="themeColor" type="color" value="#0f172a"></label>
            <label>Brightness<input id="themeBrightness" type="range" min="0.85" max="1.25" step="0.01"
                value="1"></label>
          </div>
          <div class="actions" style="margin-top:8px"><a class="btn" href="#top" id="backToTop">Back to top ↑</a></div>
        </section>
        <section class="col">
          <h4>Explore</h4>
          <p><a data-href="index.html" href="index.html">Wellbeing</a> • <a data-href="breath.html"
              href="breath.html">Breath</a> • <a data-href="focus.html" href="focus.html">Focus</a> • <a
              data-href="mindfulness.html" href="mindfulness.html">Mindfulness</a> • <a data-href="about.html"
              href="about.html">About</a></p>
        </section>
        <section class="col">
          <h4>Toolkits</h4>
          <p><a data-href="mood-tools.html" href="mood-tools.html">Mood</a> • <a data-href="breath-tools.html"
              href="breath-tools.html">Breath Tools</a> • <a data-href="sleep-tools.html"
              href="sleep-tools.html">Sleep</a> • <a data-href="anxiety-tools.html"
              href="anxiety-tools.html">Anxiety</a> • <a data-href="stress-tools.html"
              href="stress-tools.html">Stress</a></p>
        </section>
        <section class="col">
          <h4>Contact</h4>
          <p><a data-href="contact.html" href="contact.html">Contact</a> • <a href="mailto:info.com">info.com</a></p>
        </section>
      </div>
      <div class="bottom">
        <div>© <span id="yearFooter"></span> MindPayLink · Educational information only; not medical advice.</div>
        <div class="credit">Designed by <b>Alkhadi M Koroma</b></div>
      </div>
    </div>
    <script>document.getElementById("yearFooter") && (document.getElementById("yearFooter").textContent = (new Date).getFullYear()); document.getElementById("backToTop") && document.getElementById("backToTop").addEventListener("click", function (e) { e.preventDefault(); try { (document.getElementById("top") || document.body).scrollIntoView({ behavior: "smooth", block: "start" }) } catch { location.hash = "#top" } })</script>
  </footer>







  <!-- =================== TEMPLATES & DATA =================== -->
  <template id="parentHandout">
    <article>
      <h1>Autism: Parent Quick Guide (UK)</h1>
      <p>See download above for full A4 PDF (brand header/footer).</p>
    </article>
  </template>

  <template id="clinicGuide">
    <article>
      <h1>Autism: Clinic Guide &amp; Checklists (UK)</h1>
      <p>See download above for full A4 PDF.</p>
    </article>
  </template>

  <script type="application/json" id="asd_coach_json">
{
  "meta": { "version": "1.1.0", "locale": "en-UK", "brand": "M Share" },
  "flows": [
    {
      "id": "comm",
      "title": "Communication booster",
      "minutes": 5,
      "steps": [
        { "type": "text", "title": "Warm-up", "body": "Follow the child's lead. Mirror play for 30–60 seconds." },
        { "type": "multi-select", "title": "Targets", "options": ["Request (more/help)", "Choice (A/B)", "Comment (look/uh‑oh)", "Social game (again!)"], "saveAs": "comm.targets" },
        { "type": "timer", "seconds": 180, "title": "Play & model", "body": "Model 1–2 word phrases. Pause 5–10 s. Accept all attempts (speech/sign/AAC)." },
        { "type": "log", "metric": "attempts", "title": "Attempts today", "saveAs": "comm.attempts" },
        { "type": "text", "title": "Wrap", "body": "Celebrate. Snapshot: attempts = {{comm.attempts}}." }
      ]
    },
    {
      "id": "abc",
      "title": "Behaviour: ABC coach",
      "minutes": 6,
      "steps": [
        { "type": "text", "title": "Pick one behaviour", "body": "Describe it in observable words." },
        { "type": "abc", "title": "Record ABC", "saveAs": "abc.row" },
        { "type": "checklist", "title": "Teach replacement", "items": ["Give simple way to ask (picture/word)", "Reduce trigger (noise, unclear demand)", "Reinforce calm/ask quickly"] },
        { "type": "log", "metric": "abc.count", "title": "Events today", "saveAs": "abc.count" }
      ]
    },
    {
      "id": "sleep",
      "title": "Sleep routine",
      "minutes": 5,
      "steps": [
        { "type": "planner", "title": "Bed routine", "body": "Choose 3–4 calming steps (bath, book, music).", "saveAs": "sleep.plan" },
        { "type": "timer", "seconds": 60, "title": "Lights down", "body": "Dim lights; no screens. Breathe slowly together." },
        { "type": "survey", "title": "Latency last night", "scale": [0,120], "unit": "min", "saveAs": "sleep.latency" }
      ]
    },
    {
      "id": "sensory",
      "title": "Sensory regulation",
      "minutes": 4,
      "steps": [
        { "type": "picker", "title": "Need → tool", "options": ["Noise->headphones", "Movement->walk/trampoline", "Deep pressure->weighted lap (if liked)"], "saveAs": "sens.pick" },
        { "type": "timer", "seconds": 120, "title": "Do the tool", "body": "Stay curious about comfort; stop if disliked." }
      ]
    }
  ]
}
</script>

  <script defer src="autism.js"></script>
  <script>
      // Class-based bindings: support .downloadPdfBtn / .saveVcfBtn across pages
      (function () {
        const MS = window.__MSHARE__ || {};
        document.querySelectorAll('#saveVcf, .saveVcfBtn').forEach(b => b.addEventListener('click', () => MS.genVCardAndDownload?.()))
        document.querySelectorAll('#downloadPdf, .downloadPdfBtn').forEach(b => b.addEventListener('click', () => MS.quickDownloadPdf?.()))
      })();
  </script>
  <script defer src="app.js"></script>
  <script defer src="assets/js/ux-fixes.js"></script>
  <script defer src="assets/js/paylinks.js"></script>
  <script defer src="assets/js/site-core.js"></script>
  <script defer src="assets/js/a11y-fix.js"></script>
  <script defer src="assets/js/start-fix.js"></script>
  <script defer src="assets/header/header.js"></script>
  <script defer src="assets/footer/footer.js"></script>
  <script>
    // Remove any legacy voice coach panels so the new draggable one can mount
    (function () {
      try {
        document.querySelectorAll('.voice-coach, #voice-coach').forEach(el => el.remove());
      } catch { }
    })();
  </script>
  <script defer src="voice-coach-fix.js"></script>
  <script defer src="assets/js/core/sound-kit.js"></script>
  <script>
    // Make Voice Coach read the card you’re interacting with
    (function () {
      function markTarget(card) { try { document.querySelectorAll('.card[data-read-target]')?.forEach(el => el.removeAttribute('data-read-target')); card?.setAttribute('data-read-target', ''); } catch { } }
      document.addEventListener('focusin', (e) => { const card = e.target.closest('.card'); if (card) markTarget(card); });
      document.addEventListener('pointerdown', (e) => { const card = e.target.closest('.card'); if (card) markTarget(card); }, { passive: true });
    })();
  </script>
  <!-- Tiny, idempotent draggable handle for Voice Coach panel (if present) -->
  <script id="vc-drag-boost-v1">
    (function () {
      const KEY = 'mshare_vc_pos_v1';
      const clamp = (n, min, max) => Math.max(min, Math.min(n, max));
      const getPanel = () => document.querySelector('[data-vc-panel], .vc-panel, #vcPanel');
      const applyPos = (el, p) => { if (!el) return; el.style.position = 'fixed'; el.style.left = (p.x | 0) + 'px'; el.style.top = (p.y | 0) + 'px'; };
      function init() {
        const el = getPanel(); if (!el || el.__vcDragInit) return; el.__vcDragInit = true;
        try { const s = JSON.parse(localStorage.getItem(KEY) || 'null'); if (s && typeof s.x === 'number') applyPos(el, s); } catch { }
        let handle = el.querySelector('.vc-move');
        if (!handle) { handle = document.createElement('button'); handle.type = 'button'; handle.className = 'vc-move'; handle.textContent = 'Move'; handle.setAttribute('aria-label', 'Move panel'); handle.style.position = 'absolute'; handle.style.top = '4px'; handle.style.right = '48px'; handle.style.cursor = 'move'; el.appendChild(handle); }
        if (!el.querySelector('.vc-reset')) { const r = document.createElement('button'); r.type = 'button'; r.className = 'vc-reset'; r.textContent = 'Reset'; r.style.position = 'absolute'; r.style.top = '4px'; r.style.right = '4px'; r.addEventListener('click', () => { el.style.left = ''; el.style.top = ''; try { localStorage.removeItem(KEY); } catch { } }); el.appendChild(r); }
        let dragging = false, sx = 0, sy = 0, ox = 0, oy = 0;
        const bounds = () => { const r = el.getBoundingClientRect(); return { maxX: innerWidth - r.width, maxY: innerHeight - r.height }; };
        const start = (e) => { dragging = true; const r = el.getBoundingClientRect(); ox = r.left; oy = r.top; const t = ('touches' in e) ? e.touches[0] : e; sx = t.clientX; sy = t.clientY; e.preventDefault(); };
        const move = (e) => { if (!dragging) return; const t = ('touches' in e) ? e.touches[0] : e; const x = t.clientX - sx + ox; const y = t.clientY - sy + oy; const b = bounds(); applyPos(el, { x: clamp(x, 0, b.maxX), y: clamp(y, 0, b.maxY) }); };
        const end = () => { if (!dragging) return; dragging = false; const r = el.getBoundingClientRect(); try { localStorage.setItem(KEY, JSON.stringify({ x: r.left, y: r.top })); } catch { } };
        handle.addEventListener('mousedown', start); addEventListener('mousemove', move); addEventListener('mouseup', end);
        handle.addEventListener('touchstart', start, { passive: false }); addEventListener('touchmove', move, { passive: false }); addEventListener('touchend', end);
        handle.addEventListener('keydown', (e) => { const step = e.shiftKey ? 20 : 5; const r = el.getBoundingClientRect(); let x = r.left, y = r.top; if (e.key === 'ArrowLeft') x -= step; else if (e.key === 'ArrowRight') x += step; else if (e.key === 'ArrowUp') y -= step; else if (e.key === 'ArrowDown') y += step; else return; e.preventDefault(); const b = bounds(); applyPos(el, { x: clamp(x, 0, b.maxX), y: clamp(y, 0, b.maxY) }); end(); });
      }
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init, { once: true }); else init();
      addEventListener('resize', () => { const el = getPanel(); if (!el) return; const r = el.getBoundingClientRect(); const b = { maxX: innerWidth - r.width, maxY: innerHeight - r.height }; if (r.right > innerWidth || r.bottom > innerHeight) applyPos(el, { x: clamp(r.left, 0, b.maxX), y: clamp(r.top, 0, b.maxY) }); });
    })();
  </script>
</body>

</html>
